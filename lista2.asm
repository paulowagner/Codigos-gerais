format ELF
section '.text' executable
public dtor
public bhask

;questao a
dtor:	PUSH EBP
	MOV EBP,ESP
	
	FLD DWORD [EBP+8]
	FLDPI
	FMULP
	
	PUSH 180
	FILD DWORD [ESP]
	FDIVP	
	
	MOV ESP,EBP
	POP EBP
	RET

;questao b
;polinomio

;questao c

bhask:	PUSH EBP
	MOV EBP,ESP
	MOV EBX,[EBP+20]
	
	FLD DWORD [EBP+12]
	FMUL ST0,ST0

	FLD DWORD [EBP+8]
	FLD DWORD [EBP+16]
	FMULP
	PUSH 4
	FILD DWORD [ESP]
	FMULP
	FSUBP
	FSQRT
	
	FLD DWORD [EBP+8]
	FDIVP
	PUSH 2
	FILD DWORD [ESP]
	FDIVP
	
	FLD DWORD [EBP+12]

	PUSH 2
	FILD DWORD [ESP]
	FDIVP

	FLD DWORD [EBP+8]
	FDIVP
	FCHS
	
	FADD ST0,ST1
	FST DWORD [EBX]
	FSUB ST0,ST1
	FSUB ST0,ST1
	FST DWORD [EBX+4]

	MOV ESP,EBP
	POP EBP
	
	RET
	
;questao g
pot:	PUSH EBP
	MOV EBP,ESP
	FLD1
	MOV ECX,[EBP+12]
	CMP ECX,0
	JE FIMG
	
VOLTAG:	FLD DWORD [EBP+8]
	FMULP
	LOOP VOLTAG

FIMG:	MOV ESP,EBP
	POP EBP
	RET


;questao h
potr:	PUSH EBP
	MOV EBP,ESP
	FLD1
	MOV ECX,[EBP+16]
	CMP ECX,0
	JE FIMH
	
	FLD QWORD [EBP+8]
	
VOLTAH:	TEST ECX,1
	JZ PULA1H
	FMUL ST1,ST0

PULA1H:	FMUL ST0,ST0	
	SHR ECX,1
	CMP ECX,0
	JNE VOLTAH
FIMH:	MOV ESP,EBP
	POP EBP
	RET
